// Do not edit this file; automatically generated by build.py.
'use strict';


// Copyright 2012 Google Inc.  Apache License 2.0
Blockly.JavaScript=new Blockly.Generator("JavaScript");Blockly.JavaScript.addReservedWords("Blockly,break,case,catch,continue,debugger,default,delete,do,else,finally,for,function,if,in,instanceof,new,return,switch,this,throw,try,typeof,var,void,while,with,class,enum,export,extends,import,super,implements,interface,let,package,private,protected,public,static,yield,const,null,true,false,Array,ArrayBuffer,Boolean,Date,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Error,eval,EvalError,Float32Array,Float64Array,Function,Infinity,Int16Array,Int32Array,Int8Array,isFinite,isNaN,Iterator,JSON,Math,NaN,Number,Object,parseFloat,parseInt,RangeError,ReferenceError,RegExp,StopIteration,String,SyntaxError,TypeError,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray,undefined,uneval,URIError,applicationCache,closed,Components,content,_content,controllers,crypto,defaultStatus,dialogArguments,directories,document,frameElement,frames,fullScreen,globalStorage,history,innerHeight,innerWidth,length,location,locationbar,localStorage,menubar,messageManager,mozAnimationStartTime,mozInnerScreenX,mozInnerScreenY,mozPaintCount,name,navigator,opener,outerHeight,outerWidth,pageXOffset,pageYOffset,parent,performance,personalbar,pkcs11,returnValue,screen,screenX,screenY,scrollbars,scrollMaxX,scrollMaxY,scrollX,scrollY,self,sessionStorage,sidebar,status,statusbar,toolbar,top,URL,window,addEventListener,alert,atob,back,blur,btoa,captureEvents,clearImmediate,clearInterval,clearTimeout,close,confirm,disableExternalCapture,dispatchEvent,dump,enableExternalCapture,escape,find,focus,forward,GeckoActiveXObject,getAttention,getAttentionWithCycleCount,getComputedStyle,getSelection,home,matchMedia,maximize,minimize,moveBy,moveTo,mozRequestAnimationFrame,open,openDialog,postMessage,print,prompt,QueryInterface,releaseEvents,removeEventListener,resizeBy,resizeTo,restore,routeEvent,scroll,scrollBy,scrollByLines,scrollByPages,scrollTo,setCursor,setImmediate,setInterval,setResizable,setTimeout,showModalDialog,sizeToContent,stop,unescape,updateCommands,XPCNativeWrapper,XPCSafeJSObjectWrapper,onabort,onbeforeunload,onblur,onchange,onclick,onclose,oncontextmenu,ondevicemotion,ondeviceorientation,ondragdrop,onerror,onfocus,onhashchange,onkeydown,onkeypress,onkeyup,onload,onmousedown,onmousemove,onmouseout,onmouseover,onmouseup,onmozbeforepaint,onpaint,onpopstate,onreset,onresize,onscroll,onselect,onsubmit,onunload,onpageshow,onpagehide,Image,Option,Worker,Event,Range,File,FileReader,Blob,BlobBuilder,Attr,CDATASection,CharacterData,Comment,console,DocumentFragment,DocumentType,DomConfiguration,DOMError,DOMErrorHandler,DOMException,DOMImplementation,DOMImplementationList,DOMImplementationRegistry,DOMImplementationSource,DOMLocator,DOMObject,DOMString,DOMStringList,DOMTimeStamp,DOMUserData,Entity,EntityReference,MediaQueryList,MediaQueryListListener,NameList,NamedNodeMap,Node,NodeFilter,NodeIterator,NodeList,Notation,Plugin,PluginArray,ProcessingInstruction,SharedWorker,Text,TimeRanges,Treewalker,TypeInfo,UserDataHandler,Worker,WorkerGlobalScope,HTMLDocument,HTMLElement,HTMLAnchorElement,HTMLAppletElement,HTMLAudioElement,HTMLAreaElement,HTMLBaseElement,HTMLBaseFontElement,HTMLBodyElement,HTMLBRElement,HTMLButtonElement,HTMLCanvasElement,HTMLDirectoryElement,HTMLDivElement,HTMLDListElement,HTMLEmbedElement,HTMLFieldSetElement,HTMLFontElement,HTMLFormElement,HTMLFrameElement,HTMLFrameSetElement,HTMLHeadElement,HTMLHeadingElement,HTMLHtmlElement,HTMLHRElement,HTMLIFrameElement,HTMLImageElement,HTMLInputElement,HTMLKeygenElement,HTMLLabelElement,HTMLLIElement,HTMLLinkElement,HTMLMapElement,HTMLMenuElement,HTMLMetaElement,HTMLModElement,HTMLObjectElement,HTMLOListElement,HTMLOptGroupElement,HTMLOptionElement,HTMLOutputElement,HTMLParagraphElement,HTMLParamElement,HTMLPreElement,HTMLQuoteElement,HTMLScriptElement,HTMLSelectElement,HTMLSourceElement,HTMLSpanElement,HTMLStyleElement,HTMLTableElement,HTMLTableCaptionElement,HTMLTableCellElement,HTMLTableDataCellElement,HTMLTableHeaderCellElement,HTMLTableColElement,HTMLTableRowElement,HTMLTableSectionElement,HTMLTextAreaElement,HTMLTimeElement,HTMLTitleElement,HTMLTrackElement,HTMLUListElement,HTMLUnknownElement,HTMLVideoElement,HTMLCanvasElement,CanvasRenderingContext2D,CanvasGradient,CanvasPattern,TextMetrics,ImageData,CanvasPixelArray,HTMLAudioElement,HTMLVideoElement,NotifyAudioAvailableEvent,HTMLCollection,HTMLAllCollection,HTMLFormControlsCollection,HTMLOptionsCollection,HTMLPropertiesCollection,DOMTokenList,DOMSettableTokenList,DOMStringMap,RadioNodeList,SVGDocument,SVGElement,SVGAElement,SVGAltGlyphElement,SVGAltGlyphDefElement,SVGAltGlyphItemElement,SVGAnimationElement,SVGAnimateElement,SVGAnimateColorElement,SVGAnimateMotionElement,SVGAnimateTransformElement,SVGSetElement,SVGCircleElement,SVGClipPathElement,SVGColorProfileElement,SVGCursorElement,SVGDefsElement,SVGDescElement,SVGEllipseElement,SVGFilterElement,SVGFilterPrimitiveStandardAttributes,SVGFEBlendElement,SVGFEColorMatrixElement,SVGFEComponentTransferElement,SVGFECompositeElement,SVGFEConvolveMatrixElement,SVGFEDiffuseLightingElement,SVGFEDisplacementMapElement,SVGFEDistantLightElement,SVGFEFloodElement,SVGFEGaussianBlurElement,SVGFEImageElement,SVGFEMergeElement,SVGFEMergeNodeElement,SVGFEMorphologyElement,SVGFEOffsetElement,SVGFEPointLightElement,SVGFESpecularLightingElement,SVGFESpotLightElement,SVGFETileElement,SVGFETurbulenceElement,SVGComponentTransferFunctionElement,SVGFEFuncRElement,SVGFEFuncGElement,SVGFEFuncBElement,SVGFEFuncAElement,SVGFontElement,SVGFontFaceElement,SVGFontFaceFormatElement,SVGFontFaceNameElement,SVGFontFaceSrcElement,SVGFontFaceUriElement,SVGForeignObjectElement,SVGGElement,SVGGlyphElement,SVGGlyphRefElement,SVGGradientElement,SVGLinearGradientElement,SVGRadialGradientElement,SVGHKernElement,SVGImageElement,SVGLineElement,SVGMarkerElement,SVGMaskElement,SVGMetadataElement,SVGMissingGlyphElement,SVGMPathElement,SVGPathElement,SVGPatternElement,SVGPolylineElement,SVGPolygonElement,SVGRectElement,SVGScriptElement,SVGStopElement,SVGStyleElement,SVGSVGElement,SVGSwitchElement,SVGSymbolElement,SVGTextElement,SVGTextPathElement,SVGTitleElement,SVGTRefElement,SVGTSpanElement,SVGUseElement,SVGViewElement,SVGVKernElement,SVGAngle,SVGColor,SVGICCColor,SVGElementInstance,SVGElementInstanceList,SVGLength,SVGLengthList,SVGMatrix,SVGNumber,SVGNumberList,SVGPaint,SVGPoint,SVGPointList,SVGPreserveAspectRatio,SVGRect,SVGStringList,SVGTransform,SVGTransformList,SVGAnimatedAngle,SVGAnimatedBoolean,SVGAnimatedEnumeration,SVGAnimatedInteger,SVGAnimatedLength,SVGAnimatedLengthList,SVGAnimatedNumber,SVGAnimatedNumberList,SVGAnimatedPreserveAspectRatio,SVGAnimatedRect,SVGAnimatedString,SVGAnimatedTransformList,SVGPathSegList,SVGPathSeg,SVGPathSegArcAbs,SVGPathSegArcRel,SVGPathSegClosePath,SVGPathSegCurvetoCubicAbs,SVGPathSegCurvetoCubicRel,SVGPathSegCurvetoCubicSmoothAbs,SVGPathSegCurvetoCubicSmoothRel,SVGPathSegCurvetoQuadraticAbs,SVGPathSegCurvetoQuadraticRel,SVGPathSegCurvetoQuadraticSmoothAbs,SVGPathSegCurvetoQuadraticSmoothRel,SVGPathSegLinetoAbs,SVGPathSegLinetoHorizontalAbs,SVGPathSegLinetoHorizontalRel,SVGPathSegLinetoRel,SVGPathSegLinetoVerticalAbs,SVGPathSegLinetoVerticalRel,SVGPathSegMovetoAbs,SVGPathSegMovetoRel,ElementTimeControl,TimeEvent,SVGAnimatedPathData,SVGAnimatedPoints,SVGColorProfileRule,SVGCSSRule,SVGExternalResourcesRequired,SVGFitToViewBox,SVGLangSpace,SVGLocatable,SVGRenderingIntent,SVGStylable,SVGTests,SVGTextContentElement,SVGTextPositioningElement,SVGTransformable,SVGUnitTypes,SVGURIReference,SVGViewSpec,SVGZoomAndPan");
Blockly.JavaScript.ORDER_ATOMIC=0;Blockly.JavaScript.ORDER_MEMBER=1;Blockly.JavaScript.ORDER_NEW=1;Blockly.JavaScript.ORDER_FUNCTION_CALL=2;Blockly.JavaScript.ORDER_INCREMENT=3;Blockly.JavaScript.ORDER_DECREMENT=3;Blockly.JavaScript.ORDER_LOGICAL_NOT=4;Blockly.JavaScript.ORDER_BITWISE_NOT=4;Blockly.JavaScript.ORDER_UNARY_PLUS=4;Blockly.JavaScript.ORDER_UNARY_NEGATION=4;Blockly.JavaScript.ORDER_TYPEOF=4;Blockly.JavaScript.ORDER_VOID=4;Blockly.JavaScript.ORDER_DELETE=4;
Blockly.JavaScript.ORDER_MULTIPLICATION=5;Blockly.JavaScript.ORDER_DIVISION=5;Blockly.JavaScript.ORDER_MODULUS=5;Blockly.JavaScript.ORDER_ADDITION=6;Blockly.JavaScript.ORDER_SUBTRACTION=6;Blockly.JavaScript.ORDER_BITWISE_SHIFT=7;Blockly.JavaScript.ORDER_RELATIONAL=8;Blockly.JavaScript.ORDER_IN=8;Blockly.JavaScript.ORDER_INSTANCEOF=8;Blockly.JavaScript.ORDER_EQUALITY=9;Blockly.JavaScript.ORDER_BITWISE_AND=10;Blockly.JavaScript.ORDER_BITWISE_XOR=11;Blockly.JavaScript.ORDER_BITWISE_OR=12;
Blockly.JavaScript.ORDER_LOGICAL_AND=13;Blockly.JavaScript.ORDER_LOGICAL_OR=14;Blockly.JavaScript.ORDER_CONDITIONAL=15;Blockly.JavaScript.ORDER_ASSIGNMENT=16;Blockly.JavaScript.ORDER_COMMA=17;Blockly.JavaScript.ORDER_NONE=99;
Blockly.JavaScript.init=function(a){Blockly.JavaScript.definitions_=Object.create(null);Blockly.JavaScript.functionNames_=Object.create(null);Blockly.JavaScript.variableDB_?Blockly.JavaScript.variableDB_.reset():Blockly.JavaScript.variableDB_=new Blockly.Names(Blockly.JavaScript.RESERVED_WORDS_);var c=[];a=Blockly.Variables.allVariables(a);for(var b=0;b<a.length;b++)c[b]="var "+Blockly.JavaScript.variableDB_.getName(a[b],Blockly.Variables.NAME_TYPE)+";";Blockly.JavaScript.definitions_.variables=c.join("\n")};
Blockly.JavaScript.finish=function(a){var c=[],b;for(b in Blockly.JavaScript.definitions_)c.push(Blockly.JavaScript.definitions_[b]);delete Blockly.JavaScript.definitions_;delete Blockly.JavaScript.functionNames_;Blockly.JavaScript.variableDB_.reset();return c.join("\n\n")+"\n\n\n"+a};Blockly.JavaScript.scrubNakedValue=function(a){return a+";\n"};Blockly.JavaScript.quote_=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};
Blockly.JavaScript.scrub_=function(a,c){var b="";if(!a.outputConnection||!a.outputConnection.targetConnection){var d=a.getCommentText();d&&(b+=Blockly.JavaScript.prefixLines(d,"// ")+"\n");for(var f=0;f<a.inputList.length;f++)a.inputList[f].type==Blockly.INPUT_VALUE&&(d=a.inputList[f].connection.targetBlock())&&(d=Blockly.JavaScript.allNestedComments(d))&&(b+=Blockly.JavaScript.prefixLines(d,"// "))}f=a.nextConnection&&a.nextConnection.targetBlock();f=Blockly.JavaScript.blockToCode(f);return b+c+
f};Blockly.JavaScript.begin_end={};Blockly.JavaScript.begin_end=function(a){current_function="main";if(pre_compilation)return"";scope="global";quadruples.push(["BEGIN"]);Blockly.JavaScript.statementToCode(a,"main");quadruples.push(["END"]);clearLocalAndTemporal();return!0};Blockly.JavaScript.conditions={};Blockly.JavaScript["if"]=function(a){var c=Blockly.JavaScript.statementToCode(a,"condition"),b=quadruples.length;quadruples.push(["gotoF",quadruples[c][3],"",0]);Blockly.JavaScript.statementToCode(a,"statment");quadruples[b][3]=quadruples.length;return""};
Blockly.JavaScript.if_else=function(a){var c=Blockly.JavaScript.statementToCode(a,"condition"),b=quadruples.length;quadruples.push(["gotoF",quadruples[c][3],"",0]);Blockly.JavaScript.statementToCode(a,"statment");c=quadruples.length;quadruples.push(["goto","","",0]);quadruples[b][3]=quadruples.length;Blockly.JavaScript.statementToCode(a,"else_condition");quadruples[c][3]=quadruples.length;return""};
Blockly.JavaScript.equal_to=function(a){var c=Blockly.JavaScript.statementToCode(a,"left_equal"),b=Blockly.JavaScript.statementToCode(a,"right_equal"),d=a=!1,f,g,e,h;Number(c)?(a=quadruples[c][3],g=indexToType(a[0])):(f=c.input,g=c.type);c=g;Number(b)?(d=quadruples[b][3],h=indexToType(d[0])):(e=b.input,h=b.type);b=h;if("var"===g){if(-1===findVariable(f))throw alert('Variable "'+f+'" not defined.'),"Semantic Error";a=findVariable(f);c=indexToType(a)}else!1===a&&(a=f);if("var"===h){if(-1===findVariable(e))throw alert('Variable "'+
e+'" not defined.'),"Semantic Error";d=findVariable(e);b=indexToType(d)}else!1===d&&(d=e);e=resultType(c,b,4);quadruples.push(["==",a,d,e]);return quadruples.length-1};
Blockly.JavaScript.less_than=function(a){var c=Blockly.JavaScript.statementToCode(a,"left_lt"),b=Blockly.JavaScript.statementToCode(a,"right_lt"),d=a=!1,f,g,e,h;Number(c)?(a=quadruples[c][3],g=indexToType(a[0])):(f=c.input,g=c.type);c=g;Number(b)?(d=quadruples[b][3],h=indexToType(d[0])):(e=b.input,h=b.type);b=h;if("var"===g){if(-1===findVariable(f))throw alert('Variable "'+f+'" not defined.'),"Semantic Error";a=findVariable(f);c=indexToType(a)}else!1===a&&(a=f);if("var"===h){if(-1===findVariable(e))throw alert('Variable "'+
e+'" not defined.'),"Semantic Error";d=findVariable(e);b=indexToType(d)}else!1===d&&(d=e);e=resultType(c,b,5);quadruples.push(["<",a,d,e]);return quadruples.length-1};
Blockly.JavaScript.greater_than=function(a){var c=Blockly.JavaScript.statementToCode(a,"left_gt"),b=Blockly.JavaScript.statementToCode(a,"right_gt"),d=a=!1,f,g,e,h;Number(c)?(a=quadruples[c][3],g=indexToType(a[0])):(f=c.input,g=c.type);c=g;Number(b)?(d=quadruples[b][3],h=indexToType(d[0])):(e=b.input,h=b.type);b=h;if("var"===g){if(-1===findVariable(f))throw alert('Variable "'+f+'" not defined.'),"Semantic Error";a=findVariable(f);c=indexToType(a)}else!1===a&&(a=f);if("var"===h){if(-1===findVariable(e))throw alert('Variable "'+
e+'" not defined.'),"Semantic Error";d=findVariable(e);b=indexToType(d)}else!1===d&&(d=e);e=resultType(c,b,6);quadruples.push([">",a,d,e]);return quadruples.length-1};
Blockly.JavaScript.less_than_or_equal_to=function(a){var c=Blockly.JavaScript.statementToCode(a,"left_lte"),b=Blockly.JavaScript.statementToCode(a,"right_lte"),d=a=!1,f,g,e,h;Number(c)?(a=quadruples[c][3],g=indexToType(a[0])):(f=c.input,g=c.type);c=g;Number(b)?(d=quadruples[b][3],h=indexToType(d[0])):(e=b.input,h=b.type);b=h;if("var"===g){if(-1===findVariable(f))throw alert('Variable "'+f+'" not defined.'),"Semantic Error";a=findVariable(f);c=indexToType(a)}else!1===a&&(a=f);if("var"===h){if(-1===
findVariable(e))throw alert('Variable "'+e+'" not defined.'),"Semantic Error";d=findVariable(e);b=indexToType(d)}else!1===d&&(d=e);e=resultType(c,b,7);quadruples.push(["<=",a,d,e]);return quadruples.length-1};
Blockly.JavaScript.greater_than_or_equal_to=function(a){var c=Blockly.JavaScript.statementToCode(a,"left_gte"),b=Blockly.JavaScript.statementToCode(a,"right_gte"),d=a=!1,f,g,e,h;Number(c)?(a=quadruples[c][3],g=indexToType(a[0])):(f=c.input,g=c.type);c=g;Number(b)?(d=quadruples[b][3],h=indexToType(d[0])):(e=b.input,h=b.type);b=h;if("var"===g){if(-1===findVariable(f))throw alert('Variable "'+f+'" not defined.'),"Semantic Error";a=findVariable(f);c=indexToType(a)}else!1===a&&(a=f);if("var"===h){if(-1===
findVariable(e))throw alert('Variable "'+e+'" not defined.'),"Semantic Error";d=findVariable(e);b=indexToType(d)}else!1===d&&(d=e);e=resultType(c,b,8);quadruples.push([">=",a,d,e]);return quadruples.length-1};
Blockly.JavaScript.not_equal_to=function(a){var c=Blockly.JavaScript.statementToCode(a,"left_not_equal"),b=Blockly.JavaScript.statementToCode(a,"right_not_equal"),d=a=!1,f,g,e,h;Number(c)?(a=quadruples[c][3],g=indexToType(a[0])):(f=c.input,g=c.type);c=g;Number(b)?(d=quadruples[b][3],h=indexToType(d[0])):(e=b.input,h=b.type);b=h;if("var"===g){if(-1===findVariable(f))throw alert('Variable "'+f+'" not defined.'),"Semantic Error";a=findVariable(f);c=indexToType(a)}else!1===a&&(a=f);if("var"===h){if(-1===
findVariable(e))throw alert('Variable "'+e+'" not defined.'),"Semantic Error";d=findVariable(e);b=indexToType(d)}else!1===d&&(d=e);e=resultType(c,b,9);quadruples.push(["!=",a,d,e]);return quadruples.length-1};
Blockly.JavaScript.and=function(a){var c=Blockly.JavaScript.statementToCode(a,"left_and"),b=Blockly.JavaScript.statementToCode(a,"right_and"),d=a=!1,f,g,e,h;Number(c)?(a=quadruples[c][3],g=indexToType(a[0])):(f=c.input,g=c.type);c=g;Number(b)?(d=quadruples[b][3],h=indexToType(d[0])):(e=b.input,h=b.type);b=h;if("var"===g){if(-1===findVariable(f))throw alert('Variable "'+f+'" not defined.'),"Semantic Error";a=findVariable(f);c=indexToType(a)}else!1===a&&(a=f);if("var"===h){if(-1===findVariable(e))throw alert('Variable "'+
e+'" not defined.'),"Semantic Error";d=findVariable(e);b=indexToType(d)}else!1===d&&(d=e);e=resultType(c,b,10);quadruples.push(["and",a,d,e]);return quadruples.length-1};
Blockly.JavaScript.or=function(a){var c=Blockly.JavaScript.statementToCode(a,"left_or"),b=Blockly.JavaScript.statementToCode(a,"right_or"),d=a=!1,f,g,e,h;Number(c)?(a=quadruples[c][3],g=indexToType(a[0])):(f=c.input,g=c.type);c=g;Number(b)?(d=quadruples[b][3],h=indexToType(d[0])):(e=b.input,h=b.type);b=h;if("var"===g){if(-1===findVariable(f))throw alert('Variable "'+f+'" not defined.'),"Semantic Error";a=findVariable(f);c=indexToType(a)}else!1===a&&(a=f);if("var"===h){if(-1===findVariable(e))throw alert('Variable "'+
e+'" not defined.'),"Semantic Error";d=findVariable(e);b=indexToType(d)}else!1===d&&(d=e);e=resultType(c,b,11);quadruples.push(["or",a,d,e]);return quadruples.length-1};Blockly.JavaScript.functions={};
Blockly.JavaScript.def_function=function(a){scope="local";clearLocal();var c=a.getFieldValue("func_name"),b=Blockly.JavaScript.statementToCode(a,"return_type");current_function=c;if(pre_compilation){checkVarSyntax(c);if(-1!==findGlobalVariable(c))throw alert('Variable "'+c+'" already defined.'),"Semantic Error";scope="global";"no_return"!==b&&pushVarToTable(c,b);current_function="main";return""}function_params_array=[];Blockly.JavaScript.statementToCode(a,"params");getHashNameValues(function_params_array).forEach(function(a){null!==
a&&checkVarSyntax(a)});function_params_array.forEach(function(a){if(null!==a){if(-1!==findLocalVariable(a.name))throw alert("Parameter with name "+a.name+" in function "+c+" already defined"),"Semantic Error";pushVarToTable(a.name,a.type);quadruples.push(["=",getNextParam(findLocalVariable(a.name)),"",findLocalVariable(a.name)])}});functions_table[c]=[quadruples.length,function_params_array,b];Blockly.JavaScript.statementToCode(a,"main");quadruples.push(["RETURN","","",""]);function_params_array=
[];clearLocal();current_function="main";return""};
Blockly.JavaScript.call_function=function(a){var c=a.getFieldValue("function_call_value"),b=/^\d+$/,d=/^\d*\.\d+$/,f=/^"[^"]*"$/,g=/^(true|false)$/;function_params_array=[];Blockly.JavaScript.statementToCode(a,"params");function_params_array.forEach(function(a){if("integer"===a.type)if(null!==a.name.match(b))pushToParamTable(a.name,a.type);else if(-1!==findVariable(a.name))if(indexToType(findVariable(a.name))==a.type)pushToParamTable(findVariable(a.name),indexToType(findVariable(a.name)));else throw alert("Params error: "+
a.name+" is not an integer"),"Semantic Error";else throw alert("Params error: "+a.name+" is not an integer"),"Semantic Error";else if("float"===a.type)if(null!==a.name.match(d))pushToParamTable(a.name,a.type);else if(-1!==findVariable(a.name))if(indexToType(findVariable(a.name))==a.type)pushToParamTable(findVariable(a.name),indexToType(findVariable(a.name)));else throw alert("Params error: "+a.name+" is not a float"),"Semantic Error";else throw alert("Params error: "+a.name+" is not a float"),"Semantic Error";
else if("string"===a.type)if(null!==a.name.match(f))pushToParamTable(a.name,a.type);else if(-1!==findVariable(a.name))if(indexToType(findVariable(a.name))==a.type)pushToParamTable(findVariable(a.name),indexToType(findVariable(a.name)));else throw alert("Params error: "+a.name+" is not a string"),"Semantic Error";else throw alert("Params error: "+a.name+" is not a string"),"Semantic Error";else if("boolean"===a.type)if(null!==a.name.match(g))pushToParamTable(a.name,a.type);else if(-1!==findVariable(a.name))if(indexToType(findVariable(a.name))==
a.type)pushToParamTable(findVariable(a.name),indexToType(findVariable(a.name)));else throw alert("Params error: "+a.name+" is not a boolean"),"Semantic Error";else throw alert("Params error: "+a.name+" is not a boolean"),"Semantic Error";});functions_call_table.push([c,quadruples.length,function_params_array,"no_return"]);quadruples.push(["gotoFunk","","",0]);function_params_array=[];return""};
Blockly.JavaScript.return_function=function(a){var c=a.getFieldValue("function_call_value"),b=/^\d+$/,d=/^\d*\.\d+$/,f=/^"[^"]*"$/,g=/^(true|false)$/;function_params_array=[];Blockly.JavaScript.statementToCode(a,"params");function_params_array.forEach(function(a){if("integer"===a.type)if(null!==a.name.match(b))pushToParamTable(a.name,a.type);else if(-1!==findVariable(a.name))if(indexToType(findVariable(a.name))==a.type)pushToParamTable(findVariable(a.name),indexToType(findVariable(a.name)));else throw alert("Params error: "+
a.name+" is not an integer"),"Semantic Error";else throw alert("Params error: "+a.name+" is not an integer"),"Semantic Error";else if("float"===a.type)if(null!==a.name.match(d))pushToParamTable(a.name,a.type);else if(-1!==findVariable(a.name))if(indexToType(findVariable(a.name))==a.type)pushToParamTable(findVariable(a.name),indexToType(findVariable(a.name)));else throw alert("Params error: "+a.name+" is not a float"),"Semantic Error";else throw alert("Params error: "+a.name+" is not a float"),"Semantic Error";
else if("string"===a.type)if(null!==a.name.match(f))pushToParamTable(a.name,a.type);else if(-1!==findVariable(a.name))if(indexToType(findVariable(a.name))==a.type)pushToParamTable(findVariable(a.name),indexToType(findVariable(a.name)));else throw alert("Params error: "+a.name+" is not a string"),"Semantic Error";else throw alert("Params error: "+a.name+" is not a string"),"Semantic Error";else if("boolean"===a.type)if(null!==a.name.match(g))pushToParamTable(a.name,a.type);else if(-1!==findVariable(a.name))if(indexToType(findVariable(a.name))==
a.type)pushToParamTable(findVariable(a.name),indexToType(findVariable(a.name)));else throw alert("Params error: "+a.name+" is not a boolean"),"Semantic Error";else throw alert("Params error: "+a.name+" is not a boolean"),"Semantic Error";});a=findVariable(c);if(-1===a)throw alert("Function "+c+" does not exist"),"Semantic Error";a=indexToType(a);functions_call_table.push([c,quadruples.length,function_params_array,a]);quadruples.push(["gotoFunk","","",0]);function_params_array=[];return{input:c,type:"var"}};
Blockly.JavaScript.param=function(a){var c=a.getFieldValue("param_type"),b=a.getFieldValue("param_name");function_params_array.push({type:c,name:b});Blockly.JavaScript.statementToCode(a,"next_param");return""};Blockly.JavaScript.no_params=function(a){function_params_array.push({type:"no_params",name:null});return""};Blockly.JavaScript.return_value=function(a){return a.getFieldValue("return_type")};
Blockly.JavaScript["return"]=function(a){if("main"===current_function)throw alert("Begin - End block cannot contain a return statement"),"Syntax Error";var c=Blockly.JavaScript.statementToCode(a,"return");a=!1;var b,d;c===parseInt(c,10)?(a=quadruples[c][3],d=indexToType(a[0])):(b=c.input,d=c.type);c=d;if("var"===d){if(-1===findVariable(b))throw alert('Variable "'+b+'" not defined.'),"Semantic Error";a=findVariable(b);c=indexToType(a)}else!1===a&&(a=b);b=findVariable(current_function);if(-1===b)throw alert("Function "+
current_function+" should not have a return statement"),"Syntax Error";if(c!==indexToType(b))throw alert("Return value of function "+current_function+" must be "+indexToType(b)),"Semantic Error";quadruples.push(["=",a,"",b]);return""};Blockly.JavaScript.loops={};
Blockly.JavaScript.repeat=function(a){var c=Blockly.JavaScript.statementToCode(a,"n_times"),b=!1,d,f;Number(c)?(b=quadruples[c][3],f=indexToType(b[0])):(d=c.input,f=c.type);c=f;if("var"===f){if(-1===findVariable(d))throw alert('Variable "'+d+'" not defined.'),"Semantic Error";b=findVariable(d);c=indexToType(b)}else!1===b&&(b=d);if("integer"!==c)throw alert("Repeat loop must have an integer"),"Type Mismatch";d=b;b=resultType("integer","integer",0);quadruples.push(["=",b,"",d]);d=resultType("integer",
"integer",6);c=quadruples.length;quadruples.push([">",b,0,d]);quadruples.push(["-",b,1,b]);b=quadruples.length;quadruples.push(["gotoF",d,"",0]);Blockly.JavaScript.statementToCode(a,"statement");quadruples.push(["goto","","",c]);quadruples[b][3]=quadruples.length;return""};
Blockly.JavaScript["while"]=function(a){var c=Blockly.JavaScript.statementToCode(a,"expression"),b=quadruples.length-1,d=quadruples.length;quadruples.push(["gotoF",quadruples[c][3],"",0]);Blockly.JavaScript.statementToCode(a,"statment");quadruples.push(["goto","","",b]);quadruples[d][3]=quadruples.length;return""};
Blockly.JavaScript.do_while=function(a){var c=quadruples.length;Blockly.JavaScript.statementToCode(a,"statment");Blockly.JavaScript.statementToCode(a,"expression");quadruples.push(["gotoV",quadruples[quadruples.length-1][3],"",c]);return""};Blockly.JavaScript.movements={};Blockly.JavaScript.move=function(a){var c=Blockly.JavaScript.statementToCode(a,"move_blocks");a=!1;var b,d;Number(c)?(a=quadruples[c][3],d=indexToType(a[0])):(b=c.input,d=c.type);c=d;if("var"===d){if(-1===findVariable(b))throw alert('Variable "'+b+'" not defined.'),"Semantic Error";b=findVariable(b);c=indexToType(b);a=b}else!1===a&&(a=b);if("integer"!==c)throw alert("Repeat loop must have an integer"),"Type Mismatch";quadruples.push(["move","","",a]);return""};
Blockly.JavaScript.turn=function(a){a=a.getFieldValue("directions");quadruples.push(["turn","","",a]);return""};Blockly.JavaScript.wall_in_front=function(a){a=resultType("boolean","boolean",4);quadruples.push(["wif","","",a]);return quadruples.length-1};Blockly.JavaScript.operations={};
Blockly.JavaScript.assignation=function(a){var c=Blockly.JavaScript.statementToCode(a,"left_assig"),b=Blockly.JavaScript.statementToCode(a,"right_assig"),c=c.input;a=-1;var d;d=Number(b)?b:b.input;var f=b.type,g=f;checkVarSyntax(c);if(-1===findVariable(c))throw alert('Variable "'+c+'" not defined.'),"Semantic Error";a=findVariable(c);b=indexToType(a);if("var"===f){if(-1===findVariable(d))throw alert('Variable "'+d+'" not defined.'),"Semantic Error";d=findVariable(d);g=indexToType(d)}else void 0===
f&&(g=indexToType(quadruples[d][3]),d=quadruples[d][3]);if(b!==g)throw alert(c+" and "+g+" must be same type"),"Type Mismatch Error";quadruples.push(["=",d,"",a]);return""};
Blockly.JavaScript.sum=function(a){var c=Blockly.JavaScript.statementToCode(a,"left_sum"),b=Blockly.JavaScript.statementToCode(a,"right_sum"),d=a=!1,f,g,e,h;Number(c)?(a=quadruples[c][3],g=indexToType(a[0])):(f=c.input,g=c.type);c=g;Number(b)?(d=quadruples[b][3],h=indexToType(d[0])):(e=b.input,h=b.type);b=h;if("var"===g){if(-1===findVariable(f))throw alert('Variable "'+f+'" not defined.'),"Semantic Error";a=findVariable(f);c=indexToType(a)}else!1===a&&(a=f);if("var"===h){if(-1===findVariable(e))throw alert('Variable "'+
e+'" not defined.'),"Semantic Error";d=findVariable(e);b=indexToType(d)}else!1===d&&(d=e);e=resultType(c,b,0);quadruples.push(["+",a,d,e]);return quadruples.length-1};
Blockly.JavaScript.substraction=function(a){var c=Blockly.JavaScript.statementToCode(a,"left_substractor"),b=Blockly.JavaScript.statementToCode(a,"right_substractor"),d=a=!1,f,g,e,h;Number(c)?(a=quadruples[c][3],g=indexToType(a[0])):(f=c.input,g=c.type);c=g;Number(b)?(d=quadruples[b][3],h=indexToType(d[0])):(e=b.input,h=b.type);b=h;if("var"===g){if(-1===findVariable(f))throw alert('Variable "'+f+'" not defined.'),"Semantic Error";a=findVariable(f);c=indexToType(a)}else!1===a&&(a=f);if("var"===h){if(-1===
findVariable(e))throw alert('Variable "'+e+'" not defined.'),"Semantic Error";d=findVariable(e);b=indexToType(d)}else!1===d&&(d=e);e=resultType(c,b,1);quadruples.push(["-",a,d,e]);return quadruples.length-1};
Blockly.JavaScript.multiplication=function(a){var c=Blockly.JavaScript.statementToCode(a,"left_multiplier"),b=Blockly.JavaScript.statementToCode(a,"right_multiplier"),d=a=!1,f,g,e,h;Number(c)?(a=quadruples[c][3],g=indexToType(a[0])):(f=c.input,g=c.type);c=g;Number(b)?(d=quadruples[b][3],h=indexToType(d[0])):(e=b.input,h=b.type);b=h;if("var"===g){if(-1===findVariable(f))throw alert('Variable "'+f+'" not defined.'),"Semantic Error";a=findVariable(f);c=indexToType(a)}else!1===a&&(a=f);if("var"===h){if(-1===
findVariable(e))throw alert('Variable "'+e+'" not defined.'),"Semantic Error";d=findVariable(e);b=indexToType(d)}else!1===d&&(d=e);e=resultType(c,b,2);quadruples.push(["*",a,d,e]);return quadruples.length-1};
Blockly.JavaScript.division=function(a){var c=Blockly.JavaScript.statementToCode(a,"nominator"),b=Blockly.JavaScript.statementToCode(a,"denominator"),d=a=!1,f,g,e,h;Number(c)?(a=quadruples[c][3],g=indexToType(a[0])):(f=c.input,g=c.type);c=g;Number(b)?(d=quadruples[b][3],h=indexToType(d[0])):(e=b.input,h=b.type);b=h;if("var"===g){if(-1===findVariable(f))throw alert('Variable "'+f+'" not defined.'),"Semantic Error";a=findVariable(f);c=indexToType(a)}else!1===a&&(a=f);if("var"===h){if(-1===findVariable(e))throw alert('Variable "'+
e+'" not defined.'),"Semantic Error";d=findVariable(e);b=indexToType(d)}else!1===d&&(d=e);e=resultType(c,b,3);quadruples.push(["\u00f7",a,d,e]);return quadruples.length-1};Blockly.JavaScript.print={};Blockly.JavaScript.print=function(a){var c=Blockly.JavaScript.statementToCode(a,"print_expression");a=!1;var b;Number(c)?(a=quadruples[c][3],c=indexToType(a[0])):(b=c.input,c=c.type);if("var"===c){if(-1===findVariable(b))throw alert('Variable "'+b+'" not defined.'),"Semantic Error";b=findVariable(b);indexToType(b);a=b}else!1===a&&(a=b);quadruples.push(["print","","",a]);return""};
Blockly.JavaScript.say=function(a){a=a.getFieldValue("say_value");quadruples.push(["say","","",a]);return""};Blockly.JavaScript.variables_and_constants={};Blockly.JavaScript.factor=function(a){a=a.getFieldValue("input");if(null!==a.match(/^\d+$/))return{input:a,type:"integer"};if(null!==a.match(/^\d*\.\d+$/))return{input:a,type:"float"};if(null!==a.match(/^"[^"]*"$/))return{input:a,type:"string"};if(null!==a.match(/^(true|false)$/))return{input:a,type:"boolean"};if(checkVarSyntax(a))return{input:a,type:"var"};alert("Not a valid expression: "+a);throw"Syntax Error";};
Blockly.JavaScript["var"]=function(a){var c=a.getFieldValue("var_dic");a=a.getFieldValue("value");checkVarSyntax(a);if("global"==scope){if(-1!==findGlobalVariable(a))throw alert('Variable "'+a+'" already defined.'),"Semantic Error";}else if("local"==scope&&-1!==findLocalVariable(a))throw alert('Variable "'+a+'" already defined.'),"Semantic Error";pushVarToTable(a,c);return""};